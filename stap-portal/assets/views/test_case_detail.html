<!-- start: BREADCRUMB -->
<div class="breadcrumb-wrapper">
    <h4 class="mainTitle no-margin" translate="testCase.TestCaseDetail">Test Case Detail</h4>

    <div ncy-breadcrumb class="pull-right"></div>
</div>
<!-- end: BREADCRUMB -->
<!-- start: INVOICE -->
<div class="container-fluid container-fullw">
    <div class="row">
        <div class="col-md-12">
            <div class="testcase" ng-controller="testCaseDetailCtrl">
                <!-- start: USER TABSET -->
                <uib-tabset class="tabbable">
                    <!-- start: TAB OVERVIEW -->
                    <uib-tab heading="Overview">
                        <div class="row">
                            <div class="col-md-4">
                                <div class="user-left">
                                    <div class="center">
                                        <hr>
                                        <h4>{{testCase.name}}</h4>
                                        <hr>
                                    </div>
                                    <table class="table table-condensed">
                                        <thead>
                                        <tr>
                                            <th colspan="3">General Information</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td>Name:</td>
                                            <td>
                                                {{testCase.name}}
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Status:</td>
                                            <td>
                                                {{testCase.status}}
                                            </td>
                                        </tr>
                                        <tr>
                                            <td>Last Update:</td>
                                            <td>{{testCase.lastUpdate}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                    <table class="table table-condensed">
                                        <thead>
                                        <tr>
                                            <th colspan="3">Description</th>
                                        </tr>
                                        </thead>
                                        <tbody>
                                        <tr>
                                            <td> {{testCase.description}}</td>
                                        </tr>
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                            <div class="col-md-8">
                                <div class="row space20">
                                    <div class="col-sm-3">
                                        <button class="btn btn-icon margin-bottom-5 margin-bottom-5 btn-block">
                                            <i class="ti-layers-alt block text-primary text-extra-large margin-bottom-10"></i>
                                            Projects
                                        </button>
                                    </div>
                                    <div class="col-sm-3">
                                        <button class="btn btn-icon margin-bottom-5 btn-block">
                                            <i class="ti-comments block text-primary text-extra-large margin-bottom-10"></i>
                                            Messages <span class="badge badge-danger"> 23 </span>
                                        </button>
                                    </div>
                                    <div class="col-sm-3">
                                        <button class="btn btn-icon margin-bottom-5 btn-block">
                                            <i class="ti-calendar block text-primary text-extra-large margin-bottom-10"></i>
                                            Calendar
                                        </button>
                                    </div>
                                    <div class="col-sm-3">
                                        <button class="btn btn-icon margin-bottom-5 btn-block">
                                            <i class="ti-flag block text-primary text-extra-large margin-bottom-10"></i>
                                            Notifications
                                        </button>
                                    </div>
                                </div>
                                <div class="panel panel-white" id="activities">
                                    <div class="panel-heading border-light">
                                        <h4 class="panel-title text-primary">Recent Changes</h4>
                                        <paneltool class="panel-tools" tool-collapse="tool-collapse" tool-refresh="load1" tool-dismiss="tool-dismiss"></paneltool>
                                    </div>
                                    <div uib-collapse="activities" ng-init="activities=false" class="panel-wrapper">
                                        <div class="panel-body">
                                            <ul class="timeline-xs">
                                                <li ng-class="{ 'timeline-item info': executionPlanLog.level == 'INFO',
                                                    'timeline-item warning': executionPlanLog.level == 'WARN',
                                                    'timeline-item danger': executionPlanLog.level == 'ERROR'}"
                                                    ng-repeat="executionPlanLog in executionPlanLoglist">
                                                    <div class="margin-left-15">
                                                        <div class="text-muted text-small">
                                                            {{executionPlanLog.time}}
                                                        </div>
                                                        <p>
                                                            <a class="text-info" href>
                                                                {{executionPlanLog.level}}
                                                            </a>
                                                            {{executionPlanLog.content}}
                                                        </p>
                                                    </div>
                                                </li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                                <div class="panel panel-white space20">
                                    <div class="panel-heading">
                                        <h4 class="panel-title">Recent Tweets</h4>
                                    </div>
                                    <div class="panel-body">
                                        <ul class="ltwt">
                                            <li class="ltwt_tweet">
                                                <p class="ltwt_tweet_text">
                                                    <a href class="text-info">
                                                        @Shakespeare
                                                    </a>
                                                    Some are born great, some achieve greatness, and some have greatness thrust upon them.
                                                </p>
                                                <span class="block text-light"><i class="fa fa-fw fa-clock-o"></i> 2 minuts ago</span>
                                            </li>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </uib-tab>
                    <!-- end: TAB OVERVIEW -->
                    <!-- start: TAB TEST META -->
                    <uib-tab heading="Meta Data">
                        <table ng-table="testCaseMetaTableParams" show-filter="false" class="table table-striped">
                            <tr ng-repeat="testCaseMeta in $data">
                                <td class="col-md-1" data-title="'Order'" sortable="'id'"> {{testCaseMeta.id}} </td>
                                <td data-title="'Type'" sortable="'metaType'">{{testCaseMeta.metaType}}</td>
                                <td data-title="'Meta Key'" sortable="'metaKey'">{{testCaseMeta.metaKey}}</td>
                                <td data-title="'Meta Value'" sortable="'metaValue'">{{testCaseMeta.metaValue}}</td>
                                <td data-title="'Last Update'" sortable="'lastUpdate'">{{testCaseMeta.lastUpdate}}</td>
                            </tr>
                        </table>
                    </uib-tab>
                    <!-- end: TAB TEST META -->
                    <!-- start: TAB TEST DATA -->
                    <uib-tab heading="Test Data">
                        <table ng-table="testDataTableParams" show-filter="false" class="table table-striped">
                            <tr ng-repeat="test_data in $data">
                                <td class="col-md-1" data-title="'ID'" sortable="'id'"> {{test_data.testDataDefinition.id}} </td>
                                <td data-title="'Type'">{{test_data.testDataDefinition.type}}</td>
                                <td data-title="'Field'" sortable="'testDataDefinition.field'"> {{test_data.testDataDefinition.field}}</td>
                                <td data-title="'Value'" sortable="'testDataDefinition.value'">{{test_data.testDataDefinition.value}}</td>
                                <td data-title="'File'" sortable="'testDataDefinition.fileId'"><a ui-sref="app.file.detail({id : test_data.testDataDefinition.fileId})">{{test_data.testDataDefinition.fileId}}</td>
                                <td data-title="'Remark'" sortable="'testDataDefinition.remark'">{{test_data.testDataDefinition.remark}}</td>
                                <td data-title="'Last Update'" sortable="'testDataDefinition.lastUpdate'">{{test_data.testDataDefinition.lastUpdate}}</td>
                            </tr>
                        </table>
                    </uib-tab>
                    <!-- end: TAB TEST DATA -->
                    <!-- start: TAB TEST STEP -->
                    <uib-tab heading="Test Step">
                        <table ng-table="testStepTableParams" show-filter="false" class="table table-striped">
                            <tr ng-repeat="testStep in $data">
                                <td class="col-md-1" data-title="'Order'" sortable="'id'"> {{testStep.stepOrder}} </td>
                                <td data-title="'Name'">{{testStep.testAction.name}}</td>
                                <td data-title="'Remark'" sortable="'testDataDefinition.value'">{{testStep.testAction.remark}}</td>
                                <td data-title="'Last Update'" sortable="'testDataDefinition.remark'">{{testStep.testAction.lastUpdate}}</td>
                            </tr>
                        </table>
                    </uib-tab>
                    <!-- end: TAB TEST STEP -->
                    <!-- start: TAB EXECUTIONS -->
                    <uib-tab heading="Executions">
                        <table ng-table="tableParams" show-filter="true" class="table table-striped">
                            <tr ng-repeat="execution_brief in $data">
                                <td class="col-md-1" data-title="'ID'" filter="{ 'id': 'text' }" sortable="'id'"> {{execution_brief.id}} </td>
                                <td data-title="'Test Case'" filter="{ 'testCaseName': 'text' }" sortable="'name'"> <a ui-sref="app.execution({id : execution_brief.id})">{{execution_brief.testCaseName}}</a></td>
                                <td data-title="'Context'" filter="{ 'executionContextName': 'text' }" sortable="'name'"> <a ui-sref="app.execution_context_detail({id : execution_brief.executionContextId})">{{execution_brief.executionContextName}}</a></td>
                                <td data-title="'Result'" filter="{ 'result': 'text' }" sortable="'name'"> <a ui-sref="app.execution_plan_detail({id : execution_brief.id})"><span class="label label-success" ng-if="execution_brief.result == 'Pass'">{{execution_brief.result}}</span><span class="label label-danger" ng-if="execution_brief.result == 'Fail'">{{execution_brief.result}}</span></a></td>
                                <td class="col-md-1" data-title="'Status'" filter="{ 'status': 'text' }" sortable="'status'">{{execution_brief.status}}</td>
                                <td data-title="'Remark'" filter="{ 'remark': 'text' }">{{execution_brief.remark}}</td>
                            </tr>
                        </table>
                    </uib-tab>
                    <!-- end: TAB EXECUTIONS -->
                    <!-- start: TAB EDIT -->
                    <uib-tab heading="Edit" active="editActive">
                        <!--form action="#" role="form" id="form"-->
                        <fieldset>
                            <legend>
                                General Information
                            </legend>
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="control-label">
                                            Name
                                        </label>
                                        <input type="text" placeholder="Enter execution plan name" class="form-control" name="name" ng-model="executionPlan.name">
                                    </div>
                                    <div class="form-group">
                                        <label class="control-label">
                                            Description
                                        </label>
                                        <textarea placeholder="Enter execution plan description" class="form-control" name="description" ng-model="executionPlan.description" />
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="form-group">
                                        <label class="block">
                                            Status
                                        </label>
                                        <div class="clip-radio radio-primary">
                                            <input type="radio" id="opened" name="gender" value="Opened" ng-model="executionPlan.status">
                                            <label for="opened">
                                                Opened
                                            </label>
                                            <input type="radio" id="closed" name="gender" value="Closed" ng-model="executionPlan.status">
                                            <label for="closed">
                                                Closed
                                            </label>
                                        </div>
                                    </div>

                                    <div class="form-group">
                                        <label class="block">
                                            Operation
                                        </label>
                                        <a class="btn btn-grey" ng-click="updateExecutionPlan()"> Update General Information </a>
                                        <a ladda="ldloading.expand_right_progress" class="btn btn-grey" data-style="expand-right" ng-click="updateExecutionPlan()"> Delete </a>

                                    </div>
                                </div>
                            </div>
                        </fieldset>
                        <fieldset>
                            <legend>
                                Meta Data
                            </legend>
                            <div class="row">
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label class="block">Meta Type</label>
                                        <input type="text" class="form-control" name="metaType" ng-model="putMeta.metaType" />
                                    </div>
                                    <div class="form-group">
                                        <label class="block">Meta Key</label>
                                        <input type="text" class="form-control" name="metaKey" ng-model="putMeta.metaKey" />
                                    </div>
                                    <div class="form-group">
                                        <label class="block">Meta Value</label>
                                        <input type="text" class="form-control" name="metaValue" ng-model="putMeta.metaValue" />
                                    </div>
                                    <div class="form-group">
                                        <div class="block">
                                            <a class="btn btn-grey" ng-click="putExecutionPlanMeta()"> Add Meta </a>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-8">
                                    <div class="table-responsive">
                                        <table class="table">
                                            <thead>
                                            <tr>
                                                <th>Type</th>
                                                <th>Key</th>
                                                <th>Value</th>
                                                <th>Edit</th>
                                                <th>Delete</th>
                                            </tr>
                                            </thead>
                                            <tbody>
                                            <tr ng-repeat="metaData in metaDataList">
                                                <td>{{metaData.metaType}} </td>
                                                <td>{{metaData.metaKey}} </td>
                                                <td>{{metaData.metaValue}} </td>
                                                <td>
                                                    <a class="btn btn-grey btn-sm" ng-click="editExecutionPlanMeta(metaData)">Edit</a>
                                                </td>
                                                <td>
                                                    <a class="btn btn-grey btn-sm" ng-click="deleteExecutionPlanMeta(metaData)">Delete</a>
                                                </td>
                                            </tr>
                                            </tbody>
                                        </table>
                                    </div>
                                </div>
                            </div>
                        </fieldset>
                        <!--/form-->
                    </uib-tab>
                    <!-- end: TAB EDIT -->
                </uib-tabset>
                <!-- end: USER TABSET -->
            </div>
        </div>
    </div>
</div>
<!-- end: INVOICE -->